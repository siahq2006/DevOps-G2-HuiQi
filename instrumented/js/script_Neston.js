function cov_1lcnpr5s0v(){var path="C:\\Users\\siahq_8ml8ib6\\OneDrive\\TP Year 2 Sem 2\\DevOps\\DevOps Project Part 2\\DevOps-G2-HuiQi\\public\\js\\script_Neston.js";var hash="a3ad5a2e199252facc118d9e6527c927c0996a2b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\siahq_8ml8ib6\\OneDrive\\TP Year 2 Sem 2\\DevOps\\DevOps Project Part 2\\DevOps-G2-HuiQi\\public\\js\\script_Neston.js",statementMap:{"0":{start:{line:3,column:4},end:{line:3,column:68}},"1":{start:{line:4,column:4},end:{line:4,column:24}},"2":{start:{line:9,column:4},end:{line:9,column:68}},"3":{start:{line:14,column:4},end:{line:37,column:71}},"4":{start:{line:15,column:26},end:{line:15,column:41}},"5":{start:{line:17,column:30},end:{line:17,column:66}},"6":{start:{line:18,column:12},end:{line:18,column:37}},"7":{start:{line:20,column:12},end:{line:35,column:15}},"8":{start:{line:21,column:33},end:{line:21,column:62}},"9":{start:{line:22,column:16},end:{line:22,column:53}},"10":{start:{line:24,column:34},end:{line:24,column:64}},"11":{start:{line:25,column:16},end:{line:25,column:51}},"12":{start:{line:27,column:35},end:{line:27,column:64}},"13":{start:{line:28,column:16},end:{line:28,column:66}},"14":{start:{line:29,column:16},end:{line:29,column:42}},"15":{start:{line:30,column:16},end:{line:30,column:84}},"16":{start:{line:30,column:43},end:{line:30,column:83}},"17":{start:{line:32,column:16},end:{line:32,column:48}},"18":{start:{line:33,column:16},end:{line:33,column:49}},"19":{start:{line:34,column:16},end:{line:34,column:48}},"20":{start:{line:37,column:24},end:{line:37,column:69}},"21":{start:{line:42,column:4},end:{line:44,column:5}},"22":{start:{line:43,column:8},end:{line:43,column:29}},"23":{start:{line:49,column:4},end:{line:60,column:71}},"24":{start:{line:50,column:26},end:{line:50,column:41}},"25":{start:{line:52,column:12},end:{line:58,column:13}},"26":{start:{line:53,column:16},end:{line:53,column:36}},"27":{start:{line:54,column:16},end:{line:54,column:36}},"28":{start:{line:55,column:16},end:{line:55,column:32}},"29":{start:{line:57,column:16},end:{line:57,column:36}},"30":{start:{line:60,column:24},end:{line:60,column:69}},"31":{start:{line:66,column:22},end:{line:66,column:72}},"32":{start:{line:67,column:4},end:{line:70,column:5}},"33":{start:{line:68,column:8},end:{line:68,column:45}},"34":{start:{line:69,column:8},end:{line:69,column:15}},"35":{start:{line:73,column:4},end:{line:91,column:11}},"36":{start:{line:78,column:26},end:{line:78,column:41}},"37":{start:{line:80,column:12},end:{line:86,column:13}},"38":{start:{line:81,column:16},end:{line:81,column:36}},"39":{start:{line:82,column:16},end:{line:82,column:32}},"40":{start:{line:83,column:16},end:{line:83,column:65}},"41":{start:{line:85,column:16},end:{line:85,column:61}},"42":{start:{line:89,column:12},end:{line:89,column:56}},"43":{start:{line:90,column:12},end:{line:90,column:94}}},fnMap:{"0":{name:"showAddGenreForm",decl:{start:{line:2,column:9},end:{line:2,column:25}},loc:{start:{line:2,column:28},end:{line:5,column:1}},line:2},"1":{name:"closeModal",decl:{start:{line:8,column:9},end:{line:8,column:19}},loc:{start:{line:8,column:22},end:{line:10,column:1}},line:8},"2":{name:"loadGenres_neston",decl:{start:{line:13,column:9},end:{line:13,column:26}},loc:{start:{line:13,column:29},end:{line:38,column:1}},line:13},"3":{name:"(anonymous_3)",decl:{start:{line:15,column:14},end:{line:15,column:15}},loc:{start:{line:15,column:26},end:{line:15,column:41}},line:15},"4":{name:"(anonymous_4)",decl:{start:{line:16,column:14},end:{line:16,column:15}},loc:{start:{line:16,column:22},end:{line:36,column:9}},line:16},"5":{name:"(anonymous_5)",decl:{start:{line:20,column:25},end:{line:20,column:26}},loc:{start:{line:20,column:34},end:{line:35,column:13}},line:20},"6":{name:"(anonymous_6)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:43},end:{line:30,column:83}},line:30},"7":{name:"(anonymous_7)",decl:{start:{line:37,column:15},end:{line:37,column:16}},loc:{start:{line:37,column:24},end:{line:37,column:69}},line:37},"8":{name:"confirmDeleteGenre",decl:{start:{line:41,column:9},end:{line:41,column:27}},loc:{start:{line:41,column:48},end:{line:45,column:1}},line:41},"9":{name:"deleteGenre",decl:{start:{line:48,column:9},end:{line:48,column:20}},loc:{start:{line:48,column:30},end:{line:61,column:1}},line:48},"10":{name:"(anonymous_10)",decl:{start:{line:50,column:14},end:{line:50,column:15}},loc:{start:{line:50,column:26},end:{line:50,column:41}},line:50},"11":{name:"(anonymous_11)",decl:{start:{line:51,column:14},end:{line:51,column:15}},loc:{start:{line:51,column:22},end:{line:59,column:9}},line:51},"12":{name:"(anonymous_12)",decl:{start:{line:60,column:15},end:{line:60,column:16}},loc:{start:{line:60,column:24},end:{line:60,column:69}},line:60},"13":{name:"addGenre",decl:{start:{line:65,column:9},end:{line:65,column:17}},loc:{start:{line:65,column:20},end:{line:92,column:1}},line:65},"14":{name:"(anonymous_14)",decl:{start:{line:78,column:14},end:{line:78,column:15}},loc:{start:{line:78,column:26},end:{line:78,column:41}},line:78},"15":{name:"(anonymous_15)",decl:{start:{line:79,column:14},end:{line:79,column:15}},loc:{start:{line:79,column:21},end:{line:87,column:9}},line:79},"16":{name:"(anonymous_16)",decl:{start:{line:88,column:15},end:{line:88,column:16}},loc:{start:{line:88,column:24},end:{line:91,column:9}},line:88}},branchMap:{"0":{loc:{start:{line:42,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:42,column:4},end:{line:44,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:42},"1":{loc:{start:{line:52,column:12},end:{line:58,column:13}},type:"if",locations:[{start:{line:52,column:12},end:{line:58,column:13}},{start:{line:56,column:19},end:{line:58,column:13}}],line:52},"2":{loc:{start:{line:67,column:4},end:{line:70,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:70,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:67},"3":{loc:{start:{line:80,column:12},end:{line:86,column:13}},type:"if",locations:[{start:{line:80,column:12},end:{line:86,column:13}},{start:{line:84,column:19},end:{line:86,column:13}}],line:80}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a3ad5a2e199252facc118d9e6527c927c0996a2b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1lcnpr5s0v=function(){return actualCoverage;};}return actualCoverage;}cov_1lcnpr5s0v();// Show Genre Modal
function showAddGenreForm(){cov_1lcnpr5s0v().f[0]++;cov_1lcnpr5s0v().s[0]++;document.getElementById("addGenreModal").style.display="flex";// This code will display the modal when the button is clicked
cov_1lcnpr5s0v().s[1]++;loadGenres_neston();// Fetch existing genres on modal open
}// Close Genre Modal
function closeModal(){cov_1lcnpr5s0v().f[1]++;cov_1lcnpr5s0v().s[2]++;document.getElementById("addGenreModal").style.display="none";// This code will close the modal when the close button is clicked
}// Load and display existing genres with delete option
function loadGenres_neston(){cov_1lcnpr5s0v().f[2]++;cov_1lcnpr5s0v().s[3]++;fetch('/get-genres')// Fetch genres from server
.then(response=>{cov_1lcnpr5s0v().f[3]++;cov_1lcnpr5s0v().s[4]++;return response.json();})// Parse response as JSON
.then(data=>{cov_1lcnpr5s0v().f[4]++;// Process the data
const genreList=(cov_1lcnpr5s0v().s[5]++,document.getElementById("genreList"));// Get the genre list element
cov_1lcnpr5s0v().s[6]++;genreList.innerHTML='';// Clear the list first
cov_1lcnpr5s0v().s[7]++;data.forEach(genre=>{cov_1lcnpr5s0v().f[5]++;// Loop through each genre
const listItem=(cov_1lcnpr5s0v().s[8]++,document.createElement("div"));// Create a list item
cov_1lcnpr5s0v().s[9]++;listItem.classList.add("genre-item");// Add a class to the list item
const genreName=(cov_1lcnpr5s0v().s[10]++,document.createElement("span"));// Create a span element for genre name
cov_1lcnpr5s0v().s[11]++;genreName.textContent=genre.name;// Set the genre name
const deleteIcon=(cov_1lcnpr5s0v().s[12]++,document.createElement("img"));// Create an image element for delete icon
cov_1lcnpr5s0v().s[13]++;deleteIcon.src="images/icons/trashcan-icon.png";// Set the icon image
cov_1lcnpr5s0v().s[14]++;deleteIcon.alt="Delete";// Set the alt text
cov_1lcnpr5s0v().s[15]++;deleteIcon.onclick=()=>{cov_1lcnpr5s0v().f[6]++;cov_1lcnpr5s0v().s[16]++;return confirmDeleteGenre(genre.id,genre.name);};// Set the click event
cov_1lcnpr5s0v().s[17]++;listItem.appendChild(genreName);// Append genre name to list item
cov_1lcnpr5s0v().s[18]++;listItem.appendChild(deleteIcon);// Append delete icon to list item
cov_1lcnpr5s0v().s[19]++;genreList.appendChild(listItem);// Append list item to genre list
});}).catch(error=>{cov_1lcnpr5s0v().f[7]++;cov_1lcnpr5s0v().s[20]++;return console.error("Error loading genres:",error);});// Log any errors to the console
}// Confirm deletion of genre
function confirmDeleteGenre(genreId,genreName){cov_1lcnpr5s0v().f[8]++;cov_1lcnpr5s0v().s[21]++;if(confirm(`Are you sure you want to delete the genre: ${genreName}?`)){cov_1lcnpr5s0v().b[0][0]++;cov_1lcnpr5s0v().s[22]++;// Confirm deletion
deleteGenre(genreId);// Call delete genre function
}else{cov_1lcnpr5s0v().b[0][1]++;}}// Delete Genre function
function deleteGenre(genreId){cov_1lcnpr5s0v().f[9]++;cov_1lcnpr5s0v().s[23]++;fetch(`/delete-genre/${genreId}`,{method:'DELETE'}).then(response=>{cov_1lcnpr5s0v().f[10]++;cov_1lcnpr5s0v().s[24]++;return response.json();}).then(data=>{cov_1lcnpr5s0v().f[11]++;cov_1lcnpr5s0v().s[25]++;//
if(data.success){cov_1lcnpr5s0v().b[1][0]++;cov_1lcnpr5s0v().s[26]++;// Check if deletion was successful
alert(data.message);// Show success message
cov_1lcnpr5s0v().s[27]++;loadGenres_neston();// Reload genre list after deletion
cov_1lcnpr5s0v().s[28]++;loadGenresKai();// Reload genre dropdown after deletion
}else{cov_1lcnpr5s0v().b[1][1]++;cov_1lcnpr5s0v().s[29]++;alert(data.message);// Show error message
}}).catch(error=>{cov_1lcnpr5s0v().f[12]++;cov_1lcnpr5s0v().s[30]++;return console.error("Error deleting genre:",error);});// Log any errors to the console
}// Add Genre Function
function addGenre(){cov_1lcnpr5s0v().f[13]++;const genreName=(cov_1lcnpr5s0v().s[31]++,document.getElementById("genreInput").value.trim());// Get genre name from input
cov_1lcnpr5s0v().s[32]++;if(!genreName){cov_1lcnpr5s0v().b[2][0]++;cov_1lcnpr5s0v().s[33]++;// Check if genre name is empty
alert("Genre name cannot be empty!");cov_1lcnpr5s0v().s[34]++;return;}else{cov_1lcnpr5s0v().b[2][1]++;}// Simulate adding genre to database
cov_1lcnpr5s0v().s[35]++;fetch('/add-genre',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:genreName})}).then(response=>{cov_1lcnpr5s0v().f[14]++;cov_1lcnpr5s0v().s[36]++;return response.json();}).then(res=>{cov_1lcnpr5s0v().f[15]++;cov_1lcnpr5s0v().s[37]++;if(res.success){cov_1lcnpr5s0v().b[3][0]++;cov_1lcnpr5s0v().s[38]++;// Check if genre was added successfully
loadGenres_neston();// Reload genre list
cov_1lcnpr5s0v().s[39]++;loadGenresKai();// Reload genre dropdown
cov_1lcnpr5s0v().s[40]++;document.getElementById("genreInput").value="";// Clear input
}else{cov_1lcnpr5s0v().b[3][1]++;cov_1lcnpr5s0v().s[41]++;alert("Failed to add genre: "+res.message);// Show error message
}}).catch(error=>{cov_1lcnpr5s0v().f[16]++;cov_1lcnpr5s0v().s[42]++;console.error("Error adding genre:",error);// Log any errors to the console
cov_1lcnpr5s0v().s[43]++;alert("Network error: Unable to add genre at this time. Please try again later.");// Show error message
});}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWxjbnByNXMwdiIsImFjdHVhbENvdmVyYWdlIiwic2hvd0FkZEdlbnJlRm9ybSIsImYiLCJzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImxvYWRHZW5yZXNfbmVzdG9uIiwiY2xvc2VNb2RhbCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJnZW5yZUxpc3QiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwiZ2VucmUiLCJsaXN0SXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZW5yZU5hbWUiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJkZWxldGVJY29uIiwic3JjIiwiYWx0Iiwib25jbGljayIsImNvbmZpcm1EZWxldGVHZW5yZSIsImlkIiwiYXBwZW5kQ2hpbGQiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImdlbnJlSWQiLCJjb25maXJtIiwiYiIsImRlbGV0ZUdlbnJlIiwibWV0aG9kIiwic3VjY2VzcyIsImFsZXJ0IiwibWVzc2FnZSIsImxvYWRHZW5yZXNLYWkiLCJhZGRHZW5yZSIsInZhbHVlIiwidHJpbSIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcyJdLCJzb3VyY2VzIjpbInNjcmlwdF9OZXN0b24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hvdyBHZW5yZSBNb2RhbFxyXG5mdW5jdGlvbiBzaG93QWRkR2VucmVGb3JtKCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRHZW5yZU1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjsgLy8gVGhpcyBjb2RlIHdpbGwgZGlzcGxheSB0aGUgbW9kYWwgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWRcclxuICAgIGxvYWRHZW5yZXNfbmVzdG9uKCk7ICAvLyBGZXRjaCBleGlzdGluZyBnZW5yZXMgb24gbW9kYWwgb3BlblxyXG59XHJcblxyXG4vLyBDbG9zZSBHZW5yZSBNb2RhbFxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRHZW5yZU1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgLy8gVGhpcyBjb2RlIHdpbGwgY2xvc2UgdGhlIG1vZGFsIHdoZW4gdGhlIGNsb3NlIGJ1dHRvbiBpcyBjbGlja2VkXHJcbn1cclxuXHJcbi8vIExvYWQgYW5kIGRpc3BsYXkgZXhpc3RpbmcgZ2VucmVzIHdpdGggZGVsZXRlIG9wdGlvblxyXG5mdW5jdGlvbiBsb2FkR2VucmVzX25lc3RvbigpIHtcclxuICAgIGZldGNoKCcvZ2V0LWdlbnJlcycpICAvLyBGZXRjaCBnZW5yZXMgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpIC8vIFBhcnNlIHJlc3BvbnNlIGFzIEpTT05cclxuICAgICAgICAudGhlbihkYXRhID0+IHsgLy8gUHJvY2VzcyB0aGUgZGF0YVxyXG4gICAgICAgICAgICBjb25zdCBnZW5yZUxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbnJlTGlzdFwiKTsgLy8gR2V0IHRoZSBnZW5yZSBsaXN0IGVsZW1lbnRcclxuICAgICAgICAgICAgZ2VucmVMaXN0LmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciB0aGUgbGlzdCBmaXJzdFxyXG5cclxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGdlbnJlID0+IHsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggZ2VucmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTsgLy8gQ3JlYXRlIGEgbGlzdCBpdGVtXHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwiZ2VucmUtaXRlbVwiKTsgLy8gQWRkIGEgY2xhc3MgdG8gdGhlIGxpc3QgaXRlbVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpOyAvLyBDcmVhdGUgYSBzcGFuIGVsZW1lbnQgZm9yIGdlbnJlIG5hbWVcclxuICAgICAgICAgICAgICAgIGdlbnJlTmFtZS50ZXh0Q29udGVudCA9IGdlbnJlLm5hbWU7IC8vIFNldCB0aGUgZ2VucmUgbmFtZVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpOyAvLyBDcmVhdGUgYW4gaW1hZ2UgZWxlbWVudCBmb3IgZGVsZXRlIGljb25cclxuICAgICAgICAgICAgICAgIGRlbGV0ZUljb24uc3JjID0gXCJpbWFnZXMvaWNvbnMvdHJhc2hjYW4taWNvbi5wbmdcIjsgIC8vIFNldCB0aGUgaWNvbiBpbWFnZVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlSWNvbi5hbHQgPSBcIkRlbGV0ZVwiOyAvLyBTZXQgdGhlIGFsdCB0ZXh0XHJcbiAgICAgICAgICAgICAgICBkZWxldGVJY29uLm9uY2xpY2sgPSAoKSA9PiBjb25maXJtRGVsZXRlR2VucmUoZ2VucmUuaWQsIGdlbnJlLm5hbWUpOyAvLyBTZXQgdGhlIGNsaWNrIGV2ZW50XHJcblxyXG4gICAgICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZ2VucmVOYW1lKTsgLy8gQXBwZW5kIGdlbnJlIG5hbWUgdG8gbGlzdCBpdGVtXHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChkZWxldGVJY29uKTsgLy8gQXBwZW5kIGRlbGV0ZSBpY29uIHRvIGxpc3QgaXRlbVxyXG4gICAgICAgICAgICAgICAgZ2VucmVMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTsgLy8gQXBwZW5kIGxpc3QgaXRlbSB0byBnZW5yZSBsaXN0XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGdlbnJlczpcIiwgZXJyb3IpKTsgLy8gTG9nIGFueSBlcnJvcnMgdG8gdGhlIGNvbnNvbGVcclxufVxyXG5cclxuLy8gQ29uZmlybSBkZWxldGlvbiBvZiBnZW5yZVxyXG5mdW5jdGlvbiBjb25maXJtRGVsZXRlR2VucmUoZ2VucmVJZCwgZ2VucmVOYW1lKSB7XHJcbiAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgZ2VucmU6ICR7Z2VucmVOYW1lfT9gKSkgeyAvLyBDb25maXJtIGRlbGV0aW9uXHJcbiAgICAgICAgZGVsZXRlR2VucmUoZ2VucmVJZCk7IC8vIENhbGwgZGVsZXRlIGdlbnJlIGZ1bmN0aW9uXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERlbGV0ZSBHZW5yZSBmdW5jdGlvblxyXG5mdW5jdGlvbiBkZWxldGVHZW5yZShnZW5yZUlkKSB7XHJcbiAgICBmZXRjaChgL2RlbGV0ZS1nZW5yZS8ke2dlbnJlSWR9YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4geyAvL1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7IC8vIENoZWNrIGlmIGRlbGV0aW9uIHdhcyBzdWNjZXNzZnVsXHJcbiAgICAgICAgICAgICAgICBhbGVydChkYXRhLm1lc3NhZ2UpOyAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgbG9hZEdlbnJlc19uZXN0b24oKTsgIC8vIFJlbG9hZCBnZW5yZSBsaXN0IGFmdGVyIGRlbGV0aW9uXHJcbiAgICAgICAgICAgICAgICBsb2FkR2VucmVzS2FpKCk7IC8vIFJlbG9hZCBnZW5yZSBkcm9wZG93biBhZnRlciBkZWxldGlvblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5tZXNzYWdlKTsgLy8gU2hvdyBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZ2VucmU6XCIsIGVycm9yKSk7IC8vIExvZyBhbnkgZXJyb3JzIHRvIHRoZSBjb25zb2xlXHJcbn1cclxuXHJcblxyXG4vLyBBZGQgR2VucmUgRnVuY3Rpb25cclxuZnVuY3Rpb24gYWRkR2VucmUoKSB7XHJcbiAgICBjb25zdCBnZW5yZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbnJlSW5wdXRcIikudmFsdWUudHJpbSgpOyAvLyBHZXQgZ2VucmUgbmFtZSBmcm9tIGlucHV0XHJcbiAgICBpZiAoIWdlbnJlTmFtZSkgeyAvLyBDaGVjayBpZiBnZW5yZSBuYW1lIGlzIGVtcHR5XHJcbiAgICAgICAgYWxlcnQoXCJHZW5yZSBuYW1lIGNhbm5vdCBiZSBlbXB0eSFcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpbXVsYXRlIGFkZGluZyBnZW5yZSB0byBkYXRhYmFzZVxyXG4gICAgZmV0Y2goJy9hZGQtZ2VucmUnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBnZW5yZU5hbWUgfSlcclxuICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgeyAvLyBDaGVjayBpZiBnZW5yZSB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5XHJcbiAgICAgICAgICAgICAgICBsb2FkR2VucmVzX25lc3RvbigpOyAgLy8gUmVsb2FkIGdlbnJlIGxpc3RcclxuICAgICAgICAgICAgICAgIGxvYWRHZW5yZXNLYWkoKTsgLy8gUmVsb2FkIGdlbnJlIGRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbnJlSW5wdXRcIikudmFsdWUgPSBcIlwiOyAvLyBDbGVhciBpbnB1dFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gYWRkIGdlbnJlOiBcIiArIHJlcy5tZXNzYWdlKTsgLy8gU2hvdyBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgZ2VucmU6XCIsIGVycm9yKTsgLy8gTG9nIGFueSBlcnJvcnMgdG8gdGhlIGNvbnNvbGVcclxuICAgICAgICAgICAgYWxlcnQoXCJOZXR3b3JrIGVycm9yOiBVbmFibGUgdG8gYWRkIGdlbnJlIGF0IHRoaXMgdGltZS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIik7IC8vIFNob3cgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIH0pO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Im8yTkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWjtBQUNBLFFBQVMsQ0FBQUUsZ0JBQWdCQSxDQUFBLENBQUcsQ0FBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUFILGNBQUEsR0FBQUksQ0FBQSxNQUN4QkMsUUFBUSxDQUFDQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUNDLEtBQUssQ0FBQ0MsT0FBTyxDQUFHLE1BQU0sQ0FBRTtBQUFBUixjQUFBLEdBQUFJLENBQUEsTUFDakVLLGlCQUFpQixDQUFDLENBQUMsQ0FBRztBQUMxQixDQUVBO0FBQ0EsUUFBUyxDQUFBQyxVQUFV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