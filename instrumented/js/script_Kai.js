function cov_1ijwymzbqs(){var path="C:\\Users\\siahq_8ml8ib6\\OneDrive\\TP Year 2 Sem 2\\DevOps\\DevOps Project Part 2\\DevOps-G2-HuiQi\\public\\js\\script_Kai.js";var hash="a7936deff8721ee94f6964b7adfb8f3b8ff58097";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\siahq_8ml8ib6\\OneDrive\\TP Year 2 Sem 2\\DevOps\\DevOps Project Part 2\\DevOps-G2-HuiQi\\public\\js\\script_Kai.js",statementMap:{"0":{start:{line:2,column:19},end:{line:2,column:21}},"1":{start:{line:3,column:18},end:{line:3,column:38}},"2":{start:{line:4,column:4},end:{line:4,column:48}},"3":{start:{line:5,column:4},end:{line:5,column:65}},"4":{start:{line:7,column:4},end:{line:24,column:6}},"5":{start:{line:8,column:8},end:{line:23,column:9}},"6":{start:{line:9,column:12},end:{line:9,column:56}},"7":{start:{line:10,column:23},end:{line:10,column:25}},"8":{start:{line:12,column:12},end:{line:17,column:13}},"9":{start:{line:12,column:25},end:{line:12,column:26}},"10":{start:{line:13,column:16},end:{line:16,column:29}},"11":{start:{line:19,column:12},end:{line:19,column:69}},"12":{start:{line:21,column:12},end:{line:21,column:108}},"13":{start:{line:22,column:12},end:{line:22,column:84}},"14":{start:{line:26,column:4},end:{line:26,column:19}},"15":{start:{line:29,column:0},end:{line:29,column:16}},"16":{start:{line:34,column:24},end:{line:34,column:63}},"17":{start:{line:35,column:4},end:{line:35,column:63}},"18":{start:{line:37,column:4},end:{line:55,column:5}},"19":{start:{line:38,column:25},end:{line:38,column:53}},"20":{start:{line:39,column:8},end:{line:41,column:9}},"21":{start:{line:40,column:12},end:{line:40,column:96}},"22":{start:{line:42,column:21},end:{line:42,column:42}},"23":{start:{line:43,column:8},end:{line:43,column:44}},"24":{start:{line:45,column:8},end:{line:50,column:11}},"25":{start:{line:46,column:27},end:{line:46,column:59}},"26":{start:{line:47,column:12},end:{line:47,column:36}},"27":{start:{line:48,column:12},end:{line:48,column:44}},"28":{start:{line:49,column:12},end:{line:49,column:44}},"29":{start:{line:52,column:8},end:{line:52,column:54}},"30":{start:{line:53,column:8},end:{line:53,column:80}},"31":{start:{line:54,column:8},end:{line:54,column:80}},"32":{start:{line:61,column:15},end:{line:61,column:60}},"33":{start:{line:63,column:14},end:{line:63,column:30}},"34":{start:{line:64,column:4},end:{line:66,column:5}},"35":{start:{line:65,column:8},end:{line:65,column:40}},"36":{start:{line:68,column:4},end:{line:101,column:5}},"37":{start:{line:69,column:25},end:{line:69,column:41}},"38":{start:{line:70,column:8},end:{line:72,column:9}},"39":{start:{line:71,column:12},end:{line:71,column:96}},"40":{start:{line:74,column:23},end:{line:74,column:44}},"41":{start:{line:76,column:29},end:{line:76,column:68}},"42":{start:{line:77,column:8},end:{line:77,column:36}},"43":{start:{line:79,column:8},end:{line:84,column:9}},"44":{start:{line:80,column:12},end:{line:80,column:78}},"45":{start:{line:81,column:12},end:{line:81,column:19}},"46":{start:{line:83,column:12},end:{line:83,column:62}},"47":{start:{line:87,column:8},end:{line:97,column:11}},"48":{start:{line:88,column:29},end:{line:88,column:58}},"49":{start:{line:89,column:12},end:{line:89,column:46}},"50":{start:{line:91,column:12},end:{line:94,column:14}},"51":{start:{line:96,column:12},end:{line:96,column:47}},"52":{start:{line:99,column:8},end:{line:99,column:63}},"53":{start:{line:100,column:8},end:{line:100,column:80}},"54":{start:{line:109,column:0},end:{line:112,column:2}},"55":{start:{line:110,column:4},end:{line:110,column:20}},"56":{start:{line:111,column:4},end:{line:111,column:90}}},fnMap:{"0":{name:"viewMoviesKai",decl:{start:{line:1,column:9},end:{line:1,column:22}},loc:{start:{line:1,column:25},end:{line:27,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:21},end:{line:7,column:22}},loc:{start:{line:7,column:33},end:{line:24,column:5}},line:7},"2":{name:"loadGenresKai",decl:{start:{line:33,column:15},end:{line:33,column:28}},loc:{start:{line:33,column:31},end:{line:56,column:1}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:45,column:21},end:{line:45,column:22}},loc:{start:{line:45,column:30},end:{line:50,column:9}},line:45},"4":{name:"loadMoviesByGenre",decl:{start:{line:60,column:15},end:{line:60,column:32}},loc:{start:{line:60,column:35},end:{line:102,column:1}},line:60},"5":{name:"(anonymous_5)",decl:{start:{line:87,column:23},end:{line:87,column:24}},loc:{start:{line:87,column:32},end:{line:97,column:9}},line:87},"6":{name:"(anonymous_6)",decl:{start:{line:109,column:16},end:{line:109,column:17}},loc:{start:{line:109,column:28},end:{line:112,column:1}},line:109}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:23,column:9}},{start:{line:20,column:15},end:{line:23,column:9}}],line:8},"1":{loc:{start:{line:8,column:12},end:{line:8,column:57}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:33}},{start:{line:8,column:37},end:{line:8,column:57}}],line:8},"2":{loc:{start:{line:39,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:41,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:39},"3":{loc:{start:{line:64,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:66,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:64},"4":{loc:{start:{line:70,column:8},end:{line:72,column:9}},type:"if",locations:[{start:{line:70,column:8},end:{line:72,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:70},"5":{loc:{start:{line:79,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:84,column:9}},{start:{line:82,column:15},end:{line:84,column:9}}],line:79}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a7936deff8721ee94f6964b7adfb8f3b8ff58097"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ijwymzbqs=function(){return actualCoverage;};}return actualCoverage;}cov_1ijwymzbqs();function viewMoviesKai(){cov_1ijwymzbqs().f[0]++;var response=(cov_1ijwymzbqs().s[0]++,'');var request=(cov_1ijwymzbqs().s[1]++,new XMLHttpRequest());cov_1ijwymzbqs().s[2]++;request.open('GET','/viewMoviesKai',true);cov_1ijwymzbqs().s[3]++;request.setRequestHeader('Content-Type','application/json');cov_1ijwymzbqs().s[4]++;request.onload=function(){cov_1ijwymzbqs().f[1]++;cov_1ijwymzbqs().s[5]++;if((cov_1ijwymzbqs().b[1][0]++,request.status>=200)&&(cov_1ijwymzbqs().b[1][1]++,request.status<300)){cov_1ijwymzbqs().b[0][0]++;cov_1ijwymzbqs().s[6]++;response=JSON.parse(request.responseText);var html=(cov_1ijwymzbqs().s[7]++,'');cov_1ijwymzbqs().s[8]++;for(var i=(cov_1ijwymzbqs().s[9]++,0);i<response.length;i++){cov_1ijwymzbqs().s[10]++;html+='<div class="movie-item">'+'<img src="'+response[i].poster_url+'" alt="'+response[i].movie_name+'">'+'<div>'+response[i].movie_name+'</div>'+'</div>';}cov_1ijwymzbqs().s[11]++;document.getElementById('tableContent').innerHTML=html;}else{cov_1ijwymzbqs().b[0][1]++;cov_1ijwymzbqs().s[12]++;document.getElementById("message").innerHTML='Failed to load movies. Please try again later.';cov_1ijwymzbqs().s[13]++;document.getElementById("message").setAttribute("class","text-danger");}};cov_1ijwymzbqs().s[14]++;request.send();}cov_1ijwymzbqs().s[15]++;viewMoviesKai();async function loadGenresKai(){cov_1ijwymzbqs().f[2]++;const genreSelect=(cov_1ijwymzbqs().s[16]++,document.getElementById("genre-select"));cov_1ijwymzbqs().s[17]++;genreSelect.innerHTML='<option value="all">All</option>';// Default option to show all movies
cov_1ijwymzbqs().s[18]++;try{const response=(cov_1ijwymzbqs().s[19]++,await fetch('/getGenresKai'));cov_1ijwymzbqs().s[20]++;if(!response.ok){cov_1ijwymzbqs().b[2][0]++;cov_1ijwymzbqs().s[21]++;throw new Error(`Failed to load genres: ${response.status} ${response.statusText}`);}else{cov_1ijwymzbqs().b[2][1]++;}const data=(cov_1ijwymzbqs().s[22]++,await response.json());cov_1ijwymzbqs().s[23]++;console.log("Genres loaded:",data);// Debugging line
cov_1ijwymzbqs().s[24]++;data.forEach(genre=>{cov_1ijwymzbqs().f[3]++;const option=(cov_1ijwymzbqs().s[25]++,document.createElement("option"));cov_1ijwymzbqs().s[26]++;option.value=genre.id;cov_1ijwymzbqs().s[27]++;option.textContent=genre.name;cov_1ijwymzbqs().s[28]++;genreSelect.appendChild(option);});}catch(error){cov_1ijwymzbqs().s[29]++;console.error('Error loading genres:',error);cov_1ijwymzbqs().s[30]++;document.getElementById("message").innerText='Failed to load genres.';cov_1ijwymzbqs().s[31]++;document.getElementById("message").setAttribute("class","text-danger");}}async function loadMoviesByGenre(){cov_1ijwymzbqs().f[4]++;const id=(cov_1ijwymzbqs().s[32]++,document.getElementById('genre-select').value);let url=(cov_1ijwymzbqs().s[33]++,'/viewMoviesKai');// Default endpoint to fetch all movies
cov_1ijwymzbqs().s[34]++;if(id!=='all'){cov_1ijwymzbqs().b[3][0]++;cov_1ijwymzbqs().s[35]++;url=`/viewMovieByGenre/${id}`;// Endpoint to fetch movies by genre
}else{cov_1ijwymzbqs().b[3][1]++;}cov_1ijwymzbqs().s[36]++;try{const response=(cov_1ijwymzbqs().s[37]++,await fetch(url));cov_1ijwymzbqs().s[38]++;if(!response.ok){cov_1ijwymzbqs().b[4][0]++;cov_1ijwymzbqs().s[39]++;throw new Error(`Failed to load movies: ${response.status} ${response.statusText}`);}else{cov_1ijwymzbqs().b[4][1]++;}const movies=(cov_1ijwymzbqs().s[40]++,await response.json());const tableContent=(cov_1ijwymzbqs().s[41]++,document.getElementById('tableContent'));cov_1ijwymzbqs().s[42]++;tableContent.innerHTML='';// Clear previous content
cov_1ijwymzbqs().s[43]++;if(movies.length===0){cov_1ijwymzbqs().b[5][0]++;cov_1ijwymzbqs().s[44]++;document.getElementById("message").innerText='No movies found.';cov_1ijwymzbqs().s[45]++;return;}else{cov_1ijwymzbqs().b[5][1]++;cov_1ijwymzbqs().s[46]++;document.getElementById("message").innerText='';// Clear message
}// Populate movies in the movie grid
cov_1ijwymzbqs().s[47]++;movies.forEach(movie=>{cov_1ijwymzbqs().f[5]++;const movieDiv=(cov_1ijwymzbqs().s[48]++,document.createElement('div'));cov_1ijwymzbqs().s[49]++;movieDiv.className='movie-item';cov_1ijwymzbqs().s[50]++;movieDiv.innerHTML=`
                <img src="${movie.poster_url}" alt="Movie Poster" class="movie-poster">
                <p>${movie.movie_name}</hp>
            `;cov_1ijwymzbqs().s[51]++;tableContent.appendChild(movieDiv);});}catch(error){cov_1ijwymzbqs().s[52]++;console.error('Error loading movies by genre:',error);cov_1ijwymzbqs().s[53]++;document.getElementById("message").innerText='Failed to load movies.';}}// Load genres and set up event listener for genre selection
cov_1ijwymzbqs().s[54]++;window.onload=function(){cov_1ijwymzbqs().f[6]++;cov_1ijwymzbqs().s[55]++;loadGenresKai();// Load genres on page load
cov_1ijwymzbqs().s[56]++;document.getElementById('genre-select').addEventListener('change',loadMoviesByGenre);// Trigger movie load on genre change
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWlqd3ltemJxcyIsImFjdHVhbENvdmVyYWdlIiwidmlld01vdmllc0thaSIsImYiLCJyZXNwb25zZSIsInMiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsImIiLCJzdGF0dXMiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJodG1sIiwiaSIsImxlbmd0aCIsInBvc3Rlcl91cmwiLCJtb3ZpZV9uYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInNldEF0dHJpYnV0ZSIsInNlbmQiLCJsb2FkR2VucmVzS2FpIiwiZ2VucmVTZWxlY3QiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiZm9yRWFjaCIsImdlbnJlIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwiaWQiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJhcHBlbmRDaGlsZCIsImVycm9yIiwiaW5uZXJUZXh0IiwibG9hZE1vdmllc0J5R2VucmUiLCJ1cmwiLCJtb3ZpZXMiLCJ0YWJsZUNvbnRlbnQiLCJtb3ZpZSIsIm1vdmllRGl2IiwiY2xhc3NOYW1lIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VzIjpbInNjcmlwdF9LYWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdmlld01vdmllc0thaSgpIHtcclxuICAgIHZhciByZXNwb25zZSA9ICcnO1xyXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJlcXVlc3Qub3BlbignR0VUJywgJy92aWV3TW92aWVzS2FpJywgdHJ1ZSk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcblxyXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID49IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIm1vdmllLWl0ZW1cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgcmVzcG9uc2VbaV0ucG9zdGVyX3VybCArICdcIiBhbHQ9XCInICsgcmVzcG9uc2VbaV0ubW92aWVfbmFtZSArICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdj4nICsgcmVzcG9uc2VbaV0ubW92aWVfbmFtZSArICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlQ29udGVudCcpLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpLmlubmVySFRNTCA9ICdGYWlsZWQgdG8gbG9hZCBtb3ZpZXMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidGV4dC1kYW5nZXJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXF1ZXN0LnNlbmQoKTtcclxufVxyXG5cclxudmlld01vdmllc0thaSgpO1xyXG5cclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2FkR2VucmVzS2FpKCkge1xyXG4gICAgY29uc3QgZ2VucmVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbnJlLXNlbGVjdFwiKTtcclxuICAgIGdlbnJlU2VsZWN0LmlubmVySFRNTCA9ICc8b3B0aW9uIHZhbHVlPVwiYWxsXCI+QWxsPC9vcHRpb24+JzsgLy8gRGVmYXVsdCBvcHRpb24gdG8gc2hvdyBhbGwgbW92aWVzXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvZ2V0R2VucmVzS2FpJyk7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGdlbnJlczogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdlbnJlcyBsb2FkZWQ6XCIsIGRhdGEpOyAvLyBEZWJ1Z2dpbmcgbGluZVxyXG5cclxuICAgICAgICBkYXRhLmZvckVhY2goZ2VucmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBnZW5yZS5pZDtcclxuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gZ2VucmUubmFtZTtcclxuICAgICAgICAgICAgZ2VucmVTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBnZW5yZXM6JywgZXJyb3IpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZVwiKS5pbm5lclRleHQgPSAnRmFpbGVkIHRvIGxvYWQgZ2VucmVzLic7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidGV4dC1kYW5nZXJcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZE1vdmllc0J5R2VucmUoKSB7XHJcbiAgICBjb25zdCBpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZW5yZS1zZWxlY3QnKS52YWx1ZTtcclxuXHJcbiAgICBsZXQgdXJsID0gJy92aWV3TW92aWVzS2FpJzsgLy8gRGVmYXVsdCBlbmRwb2ludCB0byBmZXRjaCBhbGwgbW92aWVzXHJcbiAgICBpZiAoaWQgIT09ICdhbGwnKSB7XHJcbiAgICAgICAgdXJsID0gYC92aWV3TW92aWVCeUdlbnJlLyR7aWR9YDsgLy8gRW5kcG9pbnQgdG8gZmV0Y2ggbW92aWVzIGJ5IGdlbnJlXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIG1vdmllczogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdmllcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFibGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlQ29udGVudCcpO1xyXG4gICAgICAgIHRhYmxlQ29udGVudC5pbm5lckhUTUwgPSAnJzsgLy8gQ2xlYXIgcHJldmlvdXMgY29udGVudFxyXG5cclxuICAgICAgICBpZiAobW92aWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VcIikuaW5uZXJUZXh0ID0gJ05vIG1vdmllcyBmb3VuZC4nO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlXCIpLmlubmVyVGV4dCA9ICcnOyAvLyBDbGVhciBtZXNzYWdlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQb3B1bGF0ZSBtb3ZpZXMgaW4gdGhlIG1vdmllIGdyaWRcclxuICAgICAgICBtb3ZpZXMuZm9yRWFjaChtb3ZpZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmllRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIG1vdmllRGl2LmNsYXNzTmFtZSA9ICdtb3ZpZS1pdGVtJztcclxuXHJcbiAgICAgICAgICAgIG1vdmllRGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttb3ZpZS5wb3N0ZXJfdXJsfVwiIGFsdD1cIk1vdmllIFBvc3RlclwiIGNsYXNzPVwibW92aWUtcG9zdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8cD4ke21vdmllLm1vdmllX25hbWV9PC9ocD5cclxuICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgIHRhYmxlQ29udGVudC5hcHBlbmRDaGlsZChtb3ZpZURpdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgbW92aWVzIGJ5IGdlbnJlOicsIGVycm9yKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VcIikuaW5uZXJUZXh0ID0gJ0ZhaWxlZCB0byBsb2FkIG1vdmllcy4nO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gTG9hZCBnZW5yZXMgYW5kIHNldCB1cCBldmVudCBsaXN0ZW5lciBmb3IgZ2VucmUgc2VsZWN0aW9uXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsb2FkR2VucmVzS2FpKCk7IC8vIExvYWQgZ2VucmVzIG9uIHBhZ2UgbG9hZFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlbnJlLXNlbGVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGxvYWRNb3ZpZXNCeUdlbnJlKTsgLy8gVHJpZ2dlciBtb3ZpZSBsb2FkIG9uIGdlbnJlIGNoYW5nZVxyXG59OyJdLCJtYXBwaW5ncyI6IjhpTkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixRQUFTLENBQUFFLGFBQWFBLENBQUEsQ0FBRyxDQUFBRixjQUFBLEdBQUFHLENBQUEsTUFDckIsR0FBSSxDQUFBQyxRQUFRLEVBQUFKLGNBQUEsR0FBQUssQ0FBQSxNQUFHLEVBQUUsRUFDakIsR0FBSSxDQUFBQyxPQUFPLEVBQUFOLGNBQUEsR0FBQUssQ0FBQSxNQUFHLEdBQUksQ0FBQUUsY0FBYyxDQUFDLENBQUMsRUFBQ1AsY0FBQSxHQUFBSyxDQUFBLE1BQ25DQyxPQUFPLENBQUNFLElBQUksQ0FBQyxLQUFLLENBQUUsZ0JBQWdCLENBQUUsSUFBSSxDQUFDLENBQUNSLGNBQUEsR0FBQUssQ0FBQSxNQUM1Q0MsT0FBTyxDQUFDRyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUUsa0JBQWtCLENBQUMsQ0FBQ1QsY0FBQSxHQUFBSyxDQUFBLE1BRTdEQyxPQUFPLENBQUNJLE1BQU0sQ0FBRyxVQUFZLENBQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUFBSCxjQUFBLEdBQUFLLENBQUEsTUFDekIsR0FBSSxDQUFBTCxjQUFBLEdBQUFX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QyxjQUFBLEdBQUFLLENBQUEsT0FDbEUsT0FDSixDQUFDLElBQU0sQ0FBQUwsY0FBQSxHQUFBVyxDQUFBLFNBQUFYLGNBQUEsR0FBQUssQ0FBQSxPQUNIZ0IsUUFBUSxDQUFDQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUN3QixTQUFTLENBQUcsRUFBRSxDQUFFO0FBQ3ZELENBRUE7QUFBQTlDLGNBQUEsR0FBQUssQ0FBQSxPQUNBNEMsTUFBTSxDQUFDYixPQUFPLENBQUNlLEtBQUssRUFBSSxDQUFBbkQsY0FBQSxHQUFBRyxDQUFBLE1BQ3BCLEtBQU0sQ0FBQWlELFFBQVEsRUFBQXBELGNBQUEsR0FBQUssQ0FBQSxPQUFHZ0IsUUFBUSxDQUFDa0IsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFDdkMsY0FBQSxHQUFBSyxDQUFBLE9BQy9DK0MsUUFBUSxDQUFDQyxTQUFTLENBQUcsWUFBWSxDQUFDckQsY0FBQSxHQUFBSyxDQUFBLE9BRWxDK0MsUUFBUSxDQUFDN0IsU0FBUyxDQUFHO0FBQ2pDLDRCQUE0QjRCLEtBQUssQ0FBQ2hDLFVBQVU7QUFDNUMscUJBQXFCZ0MsS0FBSyxDQUFDL0IsVUFBVTtBQUNyQyxhQUFhLENBQUNwQixjQUFBLEdBQUFLLENBQUEsT0FFRjZDLFlBQVksQ0FBQ04sV0FBVyxDQUFDUSxRQUFRLENBQUMsQ0FDdEMsQ0FBQyxDQUFDLENBQ04sQ0FBRSxNQUFPUCxLQUFLLENBQUUsQ0FBQTdDLGNBQUEsR0FBQUssQ0FBQSxPQUNaNkIsT0FBTyxDQUFDVyxLQUFLLENBQUMsZ0NBQWdDLENBQUVBLEtBQUssQ0FBQyxDQUFDN0MsY0FBQSxHQUFBSyxDQUFBLE9BQ3ZEZ0IsUUFBUSxDQUFDQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUN3QixTQUFTLENBQUcsd0JBQXdCLENBQzNFLENBQ0osQ0FNQTtBQUFBOUMsY0FBQSxHQUFBSyxDQUFBLE9BQ0FpRCxNQUFNLENBQUM1QyxNQUFNLENBQUcsVUFBWSxDQUFBVixjQUFBLEdBQUFHLENBQUEsTUFBQUgsY0FBQSxHQUFBSyxDQUFBLE9BQ3hCcUIsYUFBYSxDQUFDLENBQUMsQ0FBRTtBQUFBMUIsY0FBQSxHQUFBSyxDQUFBLE9BQ2pCZ0IsUUFBUSxDQUFDQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUNpQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUVSLGlCQUFpQixDQUFDLENBQUU7QUFDM0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==